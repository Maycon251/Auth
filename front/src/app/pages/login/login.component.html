<app-header></app-header>

<div class="flex justify-center items-center min-h-screen bg-gray-100 px-4">
  <div class="card w-full max-w-sm sm:max-w-md md:w-96 bg-base-100 shadow-sm">
    <div class="card-body">
      @if (messageError) {
      <div class="alert alert-error">
        <span>{{ messageError }}</span>
      </div>
      } @if (messageSuccess) {
      <div class="alert alert-success">
        <span>{{ messageSuccess }}</span>
      </div>
      }
      <div class="flex justify-between">
        <h2 class="text-2xl sm:text-3xl font-bold mb-4 sm:mb-6">Login</h2>
      </div>
      <form [formGroup]="registerForm" class="flex flex-col gap-2" ng>
        <label class="floating-label">
          <span class="text-sm sm:text-base">Nickname</span>
          <input
            formControlName="nickname"
            type="text"
            placeholder="Digite seu nickname"
            class="input input-md"
          />
        </label>
        @if(registerForm.get('nickname')?.invalid &&
        registerForm.get('nickname')?.touched){
        <div class="text-red-500 text-sm">
          @if (registerForm.get('nickname')?.errors?.["required"]) {
          <span>Nickname é obrigatório</span>
          } @if(registerForm.get('nickname')?.errors?.['pattern']){
          <span>Nickname não pode conter números.</span>
          }
        </div>
        }
        <label class="floating-label mt-4">
          <span class="text-sm sm:text-base">Senha</span>
          <input
            formControlName="password"
            type="password"
            minlength="6"
            placeholder="Digite a sua senha"
            class="input input-md"
          />
        </label>
        @if (registerForm.get('password')?.invalid &&
        registerForm.get('password')?.touched) {
        <div class="text-red-500 text-sm">
          @if (registerForm.get('password')?.errors?.["required"]) {
          <span>Senha é obrigatória</span>
          } @if(registerForm.get('password')?.errors?.['minlength']){
          <span>Senha deve conter no mínimo 6 caracteres.</span>
          }
        </div>
        }
      </form>
      <div class="mt-4 sm:mt-6">
        <button
          [disabled]="!registerForm.valid"
          (click)="login()"
          class="btn btn-primary btn-block"
        >
          Entrar
        </button>
      </div>
    </div>
  </div>
</div>
